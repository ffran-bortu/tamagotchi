<div class="absolute inset-0 pointer-events-none z-50 scanlines opacity-50 mix-blend-overlay"></div>
<div class="flex items-center bg-retro-bg p-4 pb-2 justify-between border-b-4 border-[#3a3a3a]">
    <h2 id="current-time"
        class="text-white text-xl font-bold leading-tight tracking-widest flex-1 uppercase text-shadow-sm">--:-- --</h2>
    <div class="flex items-center justify-end gap-2">
        <div class="flex items-center gap-1">
            <span class="text-xs font-bold tracking-widest text-retro-sage">80%</span>
            <span class="material-symbols-outlined text-retro-sage" style="font-size: 32px;">battery_5_bar</span>
        </div>
    </div>
</div>
<div class="px-4 py-4 w-full flex justify-end gap-3">
    <div
        class="relative inline-flex items-center justify-center w-12 h-12 bg-[#383838] border-2 border-[#555] rounded shadow-md group active:translate-y-1 transition-transform">
        <span class="material-symbols-outlined text-white" style="font-size: 24px;">calendar_month</span>
    </div>
    <div
        class="relative inline-flex items-center justify-center w-12 h-12 bg-[#383838] border-2 border-[#555] rounded shadow-md group active:translate-y-1 transition-transform">
        <span class="material-symbols-outlined text-white" style="font-size: 24px;">notifications</span>
        <div class="absolute top-2 right-2 w-2 h-2 bg-primary shadow-[1px_1px_0_rgba(0,0,0,0.5)]"></div>
    </div>
</div>
<div class="flex flex-col px-6 py-2 flex-1 justify-center">
    <div class="flex flex-col items-center gap-6 w-full h-full justify-center">
        <div
            class="relative w-full aspect-square max-h-[400px] border-8 border-retro-indigo rounded-lg bg-[#111] overflow-hidden shadow-lg">
            <!-- Layer 0: Background Canvas -->
            <canvas id="pet-bg-canvas" class="absolute inset-0 w-full h-full"
                style="image-rendering: pixelated;"></canvas>

            <!-- Layer 1: Pet Sprite Canvas (Animated) -->
            <canvas id="pet-sprite-canvas" class="absolute inset-0 w-full h-full"
                style="image-rendering: pixelated;"></canvas>

            <!-- Layer 2: Accessories/Hats Canvas -->
            <canvas id="pet-accessory-canvas" class="absolute inset-0 w-full h-full"
                style="image-rendering: pixelated;"></canvas>

            <!-- Hat Navigation Controls -->
            <div class="absolute bottom-2 right-2 flex gap-2 z-10">
                <button id="prev-hat"
                    class="w-10 h-10 bg-black/70 border-2 border-retro-light text-retro-light hover:bg-retro-accent hover:text-black font-bold text-xl transition-all active:scale-95 shadow-pixel">
                    ←
                </button>
                <button id="next-hat"
                    class="w-10 h-10 bg-black/70 border-2 border-retro-light text-retro-light hover:bg-retro-accent hover:text-black font-bold text-xl transition-all active:scale-95 shadow-pixel">
                    →
                </button>
            </div>

            <!-- Corner decorations -->
            <div class="absolute top-0 left-0 w-4 h-4 border-t-4 border-l-4 border-white/20 pointer-events-none"></div>
            <div class="absolute top-0 right-0 w-4 h-4 border-t-4 border-r-4 border-white/20 pointer-events-none"></div>
            <div class="absolute bottom-0 left-0 w-4 h-4 border-b-4 border-l-4 border-white/20 pointer-events-none">
            </div>
            <div class="absolute bottom-0 right-0 w-4 h-4 border-b-4 border-r-4 border-white/20 pointer-events-none">
            </div>
        </div>

        <!-- Pet Color Selector -->
        <div class="flex items-center justify-center gap-3 mt-2">
            <span class="text-retro-light text-xs font-pixel uppercase tracking-widest">Fox Color:</span>
            <div class="flex gap-2">
                <button id="prev-color"
                    class="w-10 h-10 bg-black/70 border-2 border-retro-light text-retro-light hover:bg-retro-accent hover:text-black font-bold text-xl transition-all active:scale-95 shadow-pixel">
                    ↓
                </button>
                <button id="next-color"
                    class="w-10 h-10 bg-black/70 border-2 border-retro-light text-retro-light hover:bg-retro-accent hover:text-black font-bold text-xl transition-all active:scale-95 shadow-pixel">
                    ↑
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Hunger bars now in persistent app shell -->
<div class="flex px-6 pb-8 pt-4">
    <button id="feed-pet-button"
        class="relative w-full h-16 bg-retro-rose border-4 border-[#8B5A5F] active:border-[#6B4549] text-white text-xl font-bold tracking-widest uppercase shadow-[0_4px_0_#5a3a3d] active:shadow-none active:translate-y-[4px] transition-all rounded-lg group overflow-hidden">
        <span class="relative z-10 flex items-center justify-center gap-3">
            <span class="material-symbols-outlined">restaurant</span>
            Feed Pet
        </span>
        <div class="absolute top-0 left-0 w-full h-1/2 bg-white/10 pointer-events-none"></div>
    </button>
</div>